<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'/>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' name='viewport'/>
    <link href='styles.css' rel='stylesheet'/>
    <title>AnimeNeek</title>
</head>
<body>
    <!-- Header with Logo -->
    <header>
        <a href='#' id='home-link'>
            <img alt='Anime Search Logo' id='logo' src='https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLtR-0AhORmFcP6S48BPR2He1JIz1ibnsvWTtfSTnGfJygjZt2uwgIZXNaaOfhjFvTYxRz8c1MQLafYEBE1x5JwhkndavGeT74U1d1nbSx69HBFCmzmsKl31z6Y-4V48J7Z-ZkI2f5yke1WJ3aaPbivcJZn5CqMltwvwtZArz8zqq7__xweKD6eQ8twuU/s502/AniNeek_Logo%20copy.png'/>
        </a>
    </header>

    <script>
        document.getElementById("home-link").href = window.location.origin;
    </script>

    <!-- Search Box -->
    <section id='search-section'>
        <input id='anime-search' placeholder='Search for anime...' type='text'/>
    </section>

    <section id='genre-filter'>
        <!-- Genres will be dynamically inserted here -->
    </section>

    <!-- Results Section -->
    <section id='results'></section>

    <!-- Modal for Episode Video -->
    <div class='modal' id='episode-modal'>
        <div class='modal-content'>
            <span class='close'>&#215;</span>
            <h2 id='modal-title'></h2>
            <iframe allowfullscreen='true' frameborder='0' id='video-embed'></iframe>
        </div>
    </div>

    <!-- Hidden Anime Data -->
    <div id='anime-data' style='display: none;'></div>

    <script>
        // Fetch the external HTML file and insert its content
        fetch('animes.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('anime-data').innerHTML = data;

                // Example logic to process the anime data
                document.querySelectorAll('.anime').forEach(anime => {
                    const malId = anime.getAttribute('data-mal-id');
                    const malTitle = anime.getAttribute('data-mal-title');

                    console.log(`MAL ID: ${malId}, Title: ${malTitle}`);

                    anime.querySelectorAll('.episode').forEach(episode => {
                        const epLan = episode.getAttribute('data-ep-lan');
                        const epNum = episode.getAttribute('data-ep-num');
                        const videoId = episode.getAttribute('data-video-id');

                        console.log(`Episode ${epNum} (${epLan}): Video ID ${videoId}`);
                    });
                });
            })
            .catch(error => console.error('Error loading content:', error));
    </script>
    
    <button id='back-to-top' title='Back to Top'>&#8593;</button>

    <script>
        // When the user scrolls down 100px from the top of the document, show the button
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            var button = document.getElementById("back-to-top");
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                button.style.display = "block"; // Show the button
            } else {
                button.style.display = "none"; // Hide the button
            }
        }

        // When the user clicks the button, scroll to the top of the page
        document.getElementById("back-to-top").onclick = function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };
    </script>
</body>
</html>
